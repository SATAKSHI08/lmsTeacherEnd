<style>
    .tableContainer {
        justify-content: center;
        display: flex;
    }

    

    th,
    td {
        border: 1px solid black;
    }

    table {
        margin-top: 3%;
        width: 60%;
        height: auto;
    }

    tr>th {
        font-size: large;
        background-color: #d2f6ff;
        padding: 20px;
    }

    tr>td {
        background-color: #f0fbff;
        padding: 20px;
    }

    .eachSubmission {
        {{!-- display: flex; --}}

    }

    h2 {
        background-color: #d2f6ff;
        margin: 20px 0px;
        padding: 4px;
        text-align: center;
    }

    .AssignmentCard {
        border: 0.5px solid rgb(194, 189, 189);
        {{!-- width: 370px; --}}
        margin: 15px;
        margin-top: 5px;
        font-family: sans-serif;
        background-color: #fff;
        {{!-- height: 10%; --}}
        padding: 15px;
    }

    .AssignmentCard:hover {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        cursor: pointer;
    }
    .assignmentEntry{
        display: flex;
    }
</style>

    <div class="tableContainer">
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>total Marks</th>
                    <th>created At</th>
                    <th>deadline</th>
                    <th>Uploaded File Name </th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td>{{assignment.title}}</td>
                    <td>{{assignment.description}}</td>
                    <td>{{assignment.totalMarks}}</td>
                    <td>{{formatDate assignment.createdAt "MMMM Do YYYY, h:mm:ss a"}}</td>
                    <td>{{formatDate assignment.deadline "MMMM Do YYYY, h:mm:ss a"}}</td>
                    <td>{{assignment.fileUploadName}}</td>
                </tr>
            </tbody>
        </table>







    </div>
    {{!-- <div>
        <h3>Assignment Title :</h3> {{assignment.title}}
    </div>
    <div>
        <h3>Assignment Description :</h3> {{assignment.description}}
    </div>
    <div>
        <h3>Assignment Total Marks :</h3> {{assignment.totalMarks}}
    </div>
    <div>
        <h3>Assignment created At :</h3> {{assignment.createdAt}}
    </div>
    <div>
        <h3>Assignment Deadline :</h3> {{assignment.deadline}}
    </div>
    <div>
        <h3>ClassCode :</h3> {{assignment.classCode}}
    </div>
    <div>
        <h3>Uploaded File Name :</h3> {{assignment.fileUploadName}}
    </div> --}}
    <h2>All SubmissionsðŸ‘‡ðŸ‘‡ðŸ‘‡ </h2>

    <div class="eachSubmission">
        {{#each assignment.allSubmissions }}
        <div class="AssignmentCard">
            <div class="assignmentEntry"><h3>Student Name âž¡ </h3>{{this.studentInfo.studentName}}</div>
            <div class="assignmentEntry"><h3>Student Email âž¡ </h3>{{this.studentInfo.studentEmail}}</div>
            <div class="assignmentEntry"><h3>Original File Name âž¡ </h3>{{this.submission.originalFileName}}</div>
            <div class="assignmentEntry"><h3>Uploaded File Name âž¡ </h3>{{this.submission.uploadedFileName}}</div>
            <div class="assignmentEntry"><h3>Submission Time âž¡ </h3>{{formatDate this.submission.submissionTime "MMMM Do YYYY, h:mm:ss a"}}</div>
            <div class="assignmentEntry"><h3>Marks Assingned âž¡ </h3>{{this.submission.marksAssigned}}</div>
            <form action="/{{this.studentInfo.studentEmail}}/" method="POST" id="{{@key}}">
                <label for="marksAssigned"></label>
                <br>
                <input type="number" name="marksAssigned" id="marksAssigned"
                    placeholder="{{this.submission.marksAssigned}}">
                <input type="submit" value="AssignâœŒ">
            </form>
        </div>

        {{/each}}
    </div>

<script>
    const classCode = document.getElementById('classCode').innerHTML;
    const arraylength = document.getElementById('arraylength').innerHTML;
    for (let i = 0; i < arraylength; i++) {
        const form = document.getElementById(i);
        console.log(form);
        let action = '/teacherDashboard/' + form.action.split('/')[3] + '/' + classCode;
        form.setAttribute('action', action);
        console.log(form);
        
    }

</script>